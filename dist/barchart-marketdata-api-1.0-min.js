!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(t.Barchart||(t.Barchart={})).RealtimeData=e()}}(function(){return function e(t,r,n){function i(a,o){if(!r[a]){if(!t[a]){var u="function"==typeof require&&require;if(!o&&u)return u(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){var r=t[a][1][e];return i(r?r:e)},l,l.exports,e,t,r,n)}return r[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,r){var n=e("class.extend");t.exports=function(){"use strict";return n.extend({init:function(){},parse:function(e){if("string"!=typeof e)throw new Error('The "textDocument" argument must be a string.');return this._parse(e)},_parse:function(e){return null},toString:function(){return"[XmlDomParserBase]"}})}()},{"class.extend":42}],2:[function(e,t,r){var n=e("./../XmlDomParserBase");t.exports=function(){"use strict";return n.extend({init:function(){window.DOMParser?this._xmlDomParser=new DOMParser:this._xmlDomParser=null},_parse:function(e){var t;return this._xmlDomParser?t=this._xmlDomParser.parseFromString(e,"text/xml"):(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)),t},toString:function(){return"[XmlDomParser]"}})}()},{"./../XmlDomParserBase":1}],3:[function(e,t,r){var n=e("./websocket/Connection");t.exports=function(){"use strict";return n}()},{"./websocket/Connection":12}],4:[function(e,t,r){var n=e("class.extend");t.exports=function(){"use strict";return n.extend({init:function(){},connect:function(e,t,r){this._connect(e,t,r)},_connect:function(e,t,r){},disconnect:function(){this._disconnect()},_disconnect:function(){},on:function(){this._on.apply(this,arguments)},_on:function(){},off:function(){this._off.apply(this,arguments)},_off:function(){},getMarketState:function(){return this._getMarketState()},_getMarketState:function(){return null},getActiveSymbolCount:function(){return this._getActiveSymbolCount()},_getActiveSymbolCount:function(){return null},getPassword:function(){return this._getPassword()},_getPassword:function(){return null},getUsername:function(){return this._getUsername()},_getUsername:function(){return null},toString:function(){return"[ConnectionBase]"}})}()},{"class.extend":42}],5:[function(e,t,r){var n=e("./http/HistoricalDataProvider");t.exports=function(){"use strict";return n}()},{"./http/HistoricalDataProvider":9}],6:[function(e,t,r){var n=e("class.extend");t.exports=function(){"use strict";return n.extend({init:function(){},getHistoricalData:function(e,t){return this._getHistoricalData(e,t)},_getHistoricalData:function(e,t){return null},toString:function(){return"[HistoricalDataProviderBase]"}})}()},{"class.extend":42}],7:[function(e,t,r){var n=e("./http/ProfileProvider");t.exports=function(){"use strict";return n}()},{"./http/ProfileProvider":10}],8:[function(e,t,r){var n=e("class.extend");t.exports=function(){"use strict";return n.extend({init:function(){},loadProfileData:function(e,t){return this._loadProfileData(e,t)},_loadProfileData:function(e,t){return null},toString:function(){return"[ProfileProviderBase]"}})}()},{"class.extend":42}],9:[function(e,t,r){var n=e("xhr"),i=e("./../../HistoricalDataProviderBase");t.exports=function(){"use strict";return i.extend({init:function(){},_getHistoricalData:function(e,t){var r="";for(var i in e)""!==r&&(r+="&"),r+=encodeURIComponent(i)+"="+encodeURIComponent(e[i]);var s={url:encodeURI("proxies/historicaldata/?"+r),method:"GET",json:!0};n(s,function(e,r,n){var i;i=e||200!==r.statusCode?[]:n,t(i)})},toString:function(){return"[HistoricalDataProvider]"}})}()},{"./../../HistoricalDataProviderBase":6,xhr:49}],10:[function(e,t,r){var n=e("xhr"),i=e("./../../ProfileProviderBase");t.exports=function(){"use strict";return i.extend({init:function(){},_loadProfileData:function(e,t){var r={url:"proxies/instruments/?lookup="+e.join(","),method:"GET",json:!0};n(r,function(e,r,n){var i;i=e||200!==r.statusCode?[]:n.instruments,t(i)})},toString:function(){return"[ProfileProvider]"}})}()},{"./../../ProfileProviderBase":8,xhr:49}],11:[function(e,t,r){var n=e("./Connection");t.exports=function(){"use strict";return n}()},{"./Connection":3}],12:[function(e,t,r){var n=e("./../../ConnectionBase"),i=e("./../../../marketState/MarketState"),s=e("./../../../messageParser/parseMessage");t.exports=function(){"use strict";var e=4,t=function(){function t(e,t){var r=S.pop();r?r.id==e?(r.symbols.push(t),S.push(r)):(S.push(r),S.push({id:e,symbols:[t]})):S.push({id:e,symbols:[t]})}function r(e,t){var r;switch(e){case"events":r=N.events;break;case"marketDepth":r=N.marketDepth[t.symbol];break;case"marketUpdate":r=N.marketUpdate[t.symbol];break;case"timestamp":r=N.timestamp}if(r)for(var n=0;n<r.length;n++){var i=r[n];i(t)}}function n(e,i,s){k||y!==!0&&(E.username=i,E.password=s,E.server=e,window.WebSocket?(P="DISCONNECTED",k=new WebSocket("wss://"+E.server+"/jerq"),k.onclose=function(e){console.warn(new Date+" connection closed."),k=null,"LOGGED_IN"==P&&(P="DISCONNECTED",r("events",{event:"disconnect"}),setTimeout(function(){k=null,n(E.server,E.username,E.password);var e=[];for(var r in T)e.push(r);for(var r in C)e.push(r);e.sort();for(var i=null,s=0;s<e.length;s++){var a=e[s];a!==i&&(t("MU_GO",a),i=a)}for(var o in w)t("MD_GO",o)},5e3))},k.onmessage=function(e){O.push(e.data)},k.onopen=function(e){console.log(new Date+" connection open.")}):console.warn("Websockets are not supported by this browser. Invoking refreshing quotes."))}function a(){P="DISCONNECTED",null!==k&&(k.send("LOGOUT\r\n"),k.close(),k=null),S=[],x=[],D=[],w={},T={}}function o(t){if("DISCONNECTED"==P&&(P="CONNECTING"),"CONNECTING"==P)for(var n=t.split("\n"),i=0;i<n.length;i++)if("+++"==n[i])return P="LOGGING_IN",void x.push("LOGIN "+E.username+":"+E.password+" VERSION="+e+"\r\n");"LOGGING_IN"==P&&("+"==t.substr(0,1)?(P="LOGGED_IN",r("events",{event:"login success"})):"-"==t.substr(0,1)&&(a(),P="LOGIN_FAILED",r("events",{event:"login fail"}))),"LOGGED_IN"==P&&D.push(t)}function u(){return I}function c(){return E.password}function l(){return E.username}function d(){if(arguments.length<2)throw new Error("Bad number of arguments. Must pass in an eventId and handler.");var e,r=arguments[0],n=arguments[1];e=arguments.length>2?arguments[2]:null;var i=function(e){var t=!1;e=e||[];for(var r=e.length-1;!(r<0);r--)e[r]==n&&(e.splice(r,1),t=!0);return t&&0===e.length},s=function(r,n,s,a){if(i(s[e])){delete s[e],delete r[e];for(var o=!0,u=0;u<a.length;u++)if(a[u][e]){o=!1;break}o&&t(n,e)}};switch(r){case"events":i(N.events);break;case"marketDepth":if(arguments.length<3)throw new Error("Invalid arguments. Invoke as follows: off('marketDepth', handler, symbol)");s(w,"MD_STOP",N.marketDepth,[]);break;case"marketUpdate":if(arguments.length<3)throw new Error("Invalid arguments. Invoke as follows: off('marketUpdate', handler, symbol)");s(T,"MD_STOP",N.marketUpdate,[N.cumulativeVolume]);break;case"cumulativeVolume":if(arguments.length<3)throw new Error("Invalid arguments. Invoke as follows: off('cumulativeVolume', handler, symbol)");s(C,"MD_STOP",N.cumulativeVolume,[N.marketUpdate]),u().getCumulativeVolume(e,function(e){e.off("events",n)});break;case"timestamp":i(N.timestamp)}}function f(){if(arguments.length<2)throw new Error("Bad number of arguments. Must pass in an eventId and handler.");var e,r=arguments[0],n=arguments[1];e=arguments.length>2?arguments[2]:null;var i=function(e){e=e||[];for(var t=!0,r=0;r<e.length;r++)if(e[r]==n){t=!1;break}var i;return t?(i=e.slice(0),i.push(n)):i=e,i},s=function(r,n,s,a){if(s[e]=i(s[e]),!r[e]){r[e]=!0;for(var o=!0,u=0;u<a.length;u++)if(a[u][e]){o=!1;break}o&&t(n,e)}};switch(r){case"events":N.events=i(N.events);break;case"marketDepth":if(arguments.length<3)throw new Error("Invalid arguments. Invoke as follows: on('marketDepth', handler, symbol)");s(w,"MD_GO",N.marketDepth,[]),u().getBook(e)&&n({type:"INIT",symbol:e});break;case"marketUpdate":if(arguments.length<3)throw new Error("Invalid arguments. Invoke as follows: on('marketUpdate', handler, symbol)");s(T,"MU_GO",N.marketUpdate,[N.cumulativeVolume]),u().getQuote(e)&&n({type:"INIT",symbol:e});break;case"cumulativeVolume":if(arguments.length<3)throw new Error("Invalid arguments. Invoke as follows: on('cumulativeVolume', handler, symbol)");s(T,"MU_GO",N.cumulativeVolume,[N.marketUpdate]),u().getCumulativeVolume(e,function(e){e.on("events",n)});break;case"timestamp":N.timestamp=i(N.timestamp)}}function p(e){var t;try{if(t=s(e),t.type)switch(I.processMessage(t),t.type){case"BOOK":r("marketDepth",t);break;case"TIMESTAMP":r("timestamp",I.getTimestamp());break;default:r("marketUpdate",t)}else console.log(e)}catch(n){console.error(n),console.log(t)}}function m(){for(var e=x.shift();e;)console.log(e),k.send(e),e=x.shift();setTimeout(m,200)}function v(){for(var e=!1,t=9;!e;){var r=D.shift();if(r){var n=!1,i=1,s=-1,a=r.indexOf(""),o=r.indexOf("\n");if(o>-1&&(a<0||o<a)?(s=o,i=2):a>-1&&(s=a),s>-1){var u=s+1;if(1==i&&(r.length<s+t+1?(D.length>0?D[0]=r+D[0]:(D.unshift(r),e=!0),n=!0):""==r.substr(s+1,1)&&(u+=t+1)),!n){var c=r.substring(0,u);2==i?c=c.trim():(s=c.indexOf(""),s>0&&(c=c.substring(s))),c.length>0&&p(c),r=r.substring(u),r.length>0&&(D.length>0?D[0]=r+D[0]:D.unshift(r))}}else r.length>0&&(D.length>0?D[0]=r+D[0]:(D.unshift(r),e=!0))}else e=!0;0===D.length&&(e=!0)}setTimeout(v,125)}function h(){for(var e=O.shift();e;)e&&o(e),e=O.shift();setTimeout(h,125)}function b(){if("LOGGED_IN"==P)for(;S.length>0;){var e=S.shift(),t="",r="";switch(e.id){case"MD_GO":t="GO",r="Bb";break;case"MU_GO":t="GO",r="Ssc";break;case"MD_STOP":t="STOP",r="Bb";break;case"MU_STOP":t="STOP",r="Ssc"}for(var n=t+" ",i=0;i<e.symbols.length;i++)i>0&&(n+=","),n+=e.symbols[i]+"="+r;x.push(n)}setTimeout(b,250)}function g(){var e={};for(var t in T)T[t]===!0&&(e[t]=!0);for(var t in w)w[t]===!0&&(e[t]=!0);return Object.keys(e).length}var P="DISCONNECTED",y=!1,I=new i,k=null,w={},T={},C={},S=[],x=[],D=[],O=[],N={events:[],marketDepth:{},marketUpdate:{},cumulativeVolume:{},timestamp:[]},E={username:null,password:null,server:null};return setTimeout(m,200),setTimeout(h,125),setTimeout(b,250),setTimeout(v,125),{connect:function(e,t,r){return y=!1,n(e,t,r),this},disconnect:function(){return y=!0,a(),this},getMarketState:u,getPassword:c,getUsername:l,off:d,on:f,getActiveSymbolCount:g}};return n.extend({init:function(){this._wrapppedConnection=new t},_connect:function(e,t,r){this._wrapppedConnection.connect(e,t,r)},_disconnect:function(){this._wrapppedConnection.disconnect()},_on:function(){this._wrapppedConnection.on.apply(this._wrapppedConnection,arguments)},_off:function(){this._wrapppedConnection.off.apply(this._wrapppedConnection,arguments)},_getMarketState:function(){return this._wrapppedConnection.getMarketState()},_getActiveSymbolCount:function(){return this._wrapppedConnection.getActiveSymbolCount()},_getPassword:function(){return this._wrapppedConnection.getPassword()},_getUsername:function(){return this._wrapppedConnection.getUsername()},toString:function(){return"[ConnectionBase]"}})}()},{"./../../../marketState/MarketState":16,"./../../../messageParser/parseMessage":21,"./../../ConnectionBase":4}],13:[function(e,t,r){var n=e("./../connection/HistoricalDataProvider");t.exports=function(){"use strict";return n}()},{"./../connection/HistoricalDataProvider":5}],14:[function(e,t,r){var n=e("./connection/index"),i=e("./historicalData/index"),s=e("./marketState/index"),a=e("./messageParser/index"),o=e("./util/index");t.exports=function(){"use strict";return{Connection:n,historicalData:i,HistoricalData:i,MarketState:s,MessageParser:a,messageParser:a,Util:o,util:o}}()},{"./connection/index":11,"./historicalData/index":13,"./marketState/index":19,"./messageParser/index":20,"./util/index":28}],15:[function(e,t,r){t.exports=function(){"use strict";var e="update",t="reset",r=function(e,r){this.symbol=e;var s=[],a={},o=null,u=null,c=function(e,t){return a[e]={price:t,volume:0}};this.on=function(e,t){if("events"===e){var r=s.indexOf(t);if(r<0){var i=s.slice(0);i.push(t),s=i;for(var a=this.toArray(),o=0;o<a;o++)n(this,t,a[o])}}},this.off=function(e,t){if("events"===e){var r=s.indexOf(t);if(!(r<0)){var n=s.slice(0);n.splice(r,1),s=n}}},this.getVolume=function(e){var t=e.toString(),r=a[t];return r?r.volume:0},this.incrementVolume=function(e,t){if(o&&u){if(e>o){for(var n=o+r;n<e;n+=r)i(this,s,c(n.toString(),n));o=e}else if(e<u){for(var n=u-r;n>e;n-=r)i(this,s,c(n.toString(),n));u=e}}else u=o=e;var l=e.toString(),d=a[l];d||(d=c(l,e)),d.volume+=t,i(this,s,d)},this.reset=function(){a={},o=null,u=null;for(var e=0;e<s.length;e++){var r=s[e];r({container:this,event:t})}},this.toArray=function(){var e=[];for(var t in a){var r=a[t];e.push({price:r.price,volume:r.volume})}return e.sort(function(e,t){return e.price-t.price}),e},this.dispose=function(){a={},o=null,u=null,s=[]}},n=function(t,r,n){try{r({container:t,event:e,price:n.price,volume:n.volume})}catch(i){console.error("An error was thrown by a cumulative volume observer.",i)}},i=function(e,t,r){for(var i=0;i<t.length;i++)n(e,t[i],r)};return r}()},{}],16:[function(e,t,r){var n=e("./CumulativeVolume"),i=e("./Profile"),s=e("./Quote"),a=e("./../util/convertDayCodeToNumber"),o=e("./../connection/ProfileProvider");t.exports=function(){"use strict";var e=function(){var e,t={},r={},u={},c=new o,l=function(e,t){var r=function(e){for(var r=0;r<e.length;r++){var n=e[r];200===n.status&&new i(n.lookup,n.symbol_description,n.exchange_channel,n.base_code.toString(),n.point_value,n.tick_increment)}t()};c.loadProfileData(e,r)},d=function(e){return t[e]||(t[e]={symbol:e,bids:[],asks:[]}),t[e]},f=function(e){return u[e]||(u[e]={container:null,callbacks:[]}),u[e]},p=function(e){return r[e]||(r[e]=new s,r[e].symbol=e),r[e]},m=function(t){var r=t.symbol;if("TIMESTAMP"==t.type)return void(e=t.timestamp);if("BOOK"==t.type){var s=d(r);return s.asks=t.asks,void(s.bids=t.bids)}if("REFRESH_CUMULATIVE_VOLUME"!=t.type){var o=i.prototype.Profiles[r];if(!o&&"REFRESH_QUOTE"!=t.type)return console.warn("No profile found for "+r),void console.log(t);var c=p(r);if(!c.day&&t.day&&(c.day=t.day,c.dayNum=a(c.day)),c.day&&t.day){var l=a(t.day);(l>c.dayNum||c.dayNum-l>5)&&(c.day=t.day,c.dayNum=l,c.flag="p",c.bidPrice=0,c.bidSize=void 0,c.askPrice=void 0,c.askSize=void 0,c.settlementPrice?c.previousPrice=c.settlementPrice:c.lastPrice&&(c.previousPrice=c.lastPrice),c.lastPrice=void 0,c.tradePrice=void 0,c.tradeSize=void 0,c.numberOfTrades=void 0,c.openPrice=void 0,c.highPrice=void 0,c.lowPrice=void 0,c.volume=void 0)}switch(t.type){case"HIGH":c.highPrice=t.value;break;case"LOW":c.lowPrice=t.value;break;case"OPEN":c.flag=void 0,c.openPrice=t.value,c.highPrice=t.value,c.lowPrice=t.value,c.lastPrice=t.value;var m=u[r];m&&m.container&&m.container.reset();break;case"OPEN_INTEREST":c.openInterest=t.value;break;case"REFRESH_DDF":switch(t.subrecord){case"1":case"2":case"3":c.message=t,null===t.openPrice?c.openPrice=void 0:t.openPrice&&(c.openPrice=t.openPrice),null===t.highPrice?c.highPrice=void 0:t.highPrice&&(c.highPrice=t.highPrice),null===t.lowPrice?c.lowPrice=void 0:t.lowPrice&&(c.lowPrice=t.lowPrice),null===t.lastPrice?c.lastPrice=void 0:t.lastPrice&&(c.lastPrice=t.lastPrice),null===t.bidPrice?c.bidPrice=void 0:t.bidPrice&&(c.bidPrice=t.bidPrice),null===t.askPrice?c.askPrice=void 0:t.askPrice&&(c.askPrice=t.askPrice),null===t.previousPrice?c.previousPrice=void 0:t.previousPrice&&(c.previousPrice=t.previousPrice),null===t.settlementPrice?(c.settlementPrice=void 0,"s"==c.flag&&(c.flag=void 0)):t.settlementPrice&&(c.settlementPrice=t.settlementPrice),null===t.volume?c.volume=void 0:t.volume&&(c.volume=t.volume),null===t.openInterest?c.openInterest=void 0:t.openInterest&&(c.openInterest=t.openInterest),"1"==t.subsrecord&&(c.lastUpdate=t.time)}break;case"REFRESH_QUOTE":o=new i(r,t.name,t.exchange,t.unitcode,t.pointValue,t.tickIncrement),c.message=t,c.flag=t.flag,c.mode=t.mode,c.lastUpdate=t.lastUpdate,c.bidPrice=t.bidPrice,c.bidSize=t.bidSize,c.askPrice=t.askPrice,c.askSize=t.askSize,c.lastPrice=t.lastPrice,c.tradeSize=t.tradeSize,c.numberOfTrades=t.numberOfTrades,c.previousPrice=t.previousPrice,c.settlementPrice=t.settlementPrice,c.openPrice=t.openPrice,c.highPrice=t.highPrice,c.lowPrice=t.lowPrice,c.volume=t.volume,c.openInterest=t.openInterest,t.tradeTime?c.time=t.tradeTime:t.timeStamp&&(c.time=t.timeStamp);break;case"SETTLEMENT":c.lastPrice=t.value,c.settlement=t.value,"D"==t.element&&(c.flag="s");break;case"TOB":c.bidPrice=t.bidPrice,c.bidSize=t.bidSize,c.askPrice=t.askPrice,c.askSize=t.askSize,t.time&&(c.time=t.time);break;case"TRADE":for(c.tradePrice=t.tradePrice,c.lastPrice=t.tradePrice,t.tradeSize&&(c.tradeSize=t.tradeSize,c.volume+=t.tradeSize),c.ticks.push({price:c.tradePrice,size:c.tradeSize});c.ticks.length>50;)c.ticks.shift();c.numberOfTrades||(c.numberOfTrades=0),c.numberOfTrades++,t.time&&(c.time=t.time),c.flag=void 0;var m=u[r];m&&m.container&&t.tradePrice&&t.tradeSize&&m.container.incrementVolume(c.tradePrice,c.tradeSize);break;case"TRADE_OUT_OF_SEQUENCE":t.tradeSize&&(c.volume+=t.tradeSize);var m=u[r];m&&m.container&&t.tradePrice&&t.tradeSize&&m.container.incrementVolume(c.tradePrice,c.tradeSize);break;case"VOLUME":c.volume=t.value;break;case"VOLUME_YESTERDAY":break;case"VWAP":c.vwap1=t.value;break;default:console.error("Unhandled Market Message:"),console.log(t)}}else{var m=f(r),v=m.container;if(v)v.reset();else{m.container=v=new n(r,t.tickIncrement);for(var h=m.callbacks||[],b=0;b<h.length;b++){var g=h[b];g(v)}m.callbacks=null}for(var P=t.priceLevels,b=0;b<P.length;b++){var y=P[b];v.incrementVolume(y.price,y.volume)}}};return{getBook:function(e){return t[e]},getCumulativeVolume:function(e,t){var r=f(e);r.container?t(r.container):r.callbacks.push(t)},getProfile:function(e,t){var r=i.prototype.Profiles[e];r?t(r):l([e],function(){r=i.prototype.Profiles[e],t(r)})},getQuote:function(e){return r[e]},getTimestamp:function(){return e},processMessage:m}};return e.CumulativeVolume=n,e.Profile=i,e.Quote=s,e}()},{"./../connection/ProfileProvider":7,"./../util/convertDayCodeToNumber":26,"./CumulativeVolume":15,"./Profile":17,"./Quote":18}],17:[function(e,t,r){var n=e("./../util/parseSymbolType"),i=e("./../util/priceFormatter");t.exports=function(){"use strict";var e=function(t,r,i,s,a,o){this.symbol=t,this.name=r,this.exchange=i,this.unitCode=s,this.pointValue=a,this.tickIncrement=o;var u=n(this.symbol);u&&"future"===u.type&&(this.root=u.root,this.month=u.month,this.year=u.year),e.prototype.Profiles[t]=this};return e.prototype.Profiles={},e.prototype.PriceFormatter=function(t,r,n){var s=i(t,r,n).format;e.prototype.formatPrice=function(e){return s(e,this.unitCode)}},e.prototype.PriceFormatter("-",!0),e}()},{"./../util/parseSymbolType":30,"./../util/priceFormatter":31}],18:[function(e,t,r){t.exports=function(){"use strict";return function(){this.symbol=null,this.message=null,this.flag=null,this.mode=null,this.day=null,this.dayNum=0,this.session=null,this.lastUpdate=null,this.bidPrice=null,this.bidSize=null,this.askPrice=null,this.askSize=null,this.lastPrice=null,this.tradePrice=null,this.tradeSize=null,this.numberOfTrades=null,this.vwap1=null,this.vwap2=null,this.settlementPrice=null,this.openPrice=null,this.highPrice=null,this.lowPrice=null,this.volume=null,this.openInterest=null,this.previousPrice=null,this.time=null,this.ticks=[]}}()},{}],19:[function(e,t,r){var n=e("./MarketState");t.exports=function(){"use strict";return n}()},{"./MarketState":16}],20:[function(e,t,r){var n=e("./parseMessage"),i=e("./parseTimestamp"),s=e("./parseValue");t.exports=function(){"use strict";return{parseMessage:n,parseTimestamp:i,parseValue:s,Parse:n,ParseTimestamp:i,ParseValue:s}}()},{"./parseMessage":21,"./parseTimestamp":22,"./parseValue":23}],21:[function(e,t,r){var n=e("./../common/xml/XmlDomParser"),i=e("./parseValue"),s=e("./parseTimestamp");t.exports=function(){"use strict";return function(e){var t={message:e,type:null};switch(e.substr(0,1)){case"%":var r;try{var a=new n;r=a.parse(e.substring(1))}catch(o){r=void 0}if(r){var u=r.firstChild;switch(u.nodeName){case"BOOK":t.symbol=u.attributes.getNamedItem("symbol").value,t.unitcode=u.attributes.getNamedItem("basecode").value,t.askDepth=parseInt(u.attributes.getNamedItem("bidcount").value),t.bidDepth=parseInt(u.attributes.getNamedItem("bidcount").value),t.asks=[],t.bids=[];var c,l;if(u.attributes.getNamedItem("askprices")&&u.attributes.getNamedItem("asksizes")){c=u.attributes.getNamedItem("askprices").value.split(","),l=u.attributes.getNamedItem("asksizes").value.split(",");for(var d=0;d<c.length;d++)t.asks.push({price:i(c[d],t.unitcode),size:parseInt(l[d])})}if(u.attributes.getNamedItem("bidprices")&&u.attributes.getNamedItem("bidsizes")){c=u.attributes.getNamedItem("bidprices").value.split(","),l=u.attributes.getNamedItem("bidsizes").value.split(",");for(var d=0;d<c.length;d++)t.bids.push({price:i(c[d],t.unitcode),size:parseInt(l[d])})}t.type="BOOK";break;case"QUOTE":for(var d=0;d<u.attributes.length;d++){switch(u.attributes[d].name){case"symbol":t.symbol=u.attributes[d].value;break;case"name":t.name=u.attributes[d].value;break;case"exchange":t.exchange=u.attributes[d].value;break;case"basecode":t.unitcode=u.attributes[d].value;break;case"pointvalue":t.pointValue=parseFloat(u.attributes[d].value);break;case"tickincrement":t.tickIncrement=parseInt(u.attributes[d].value);break;case"flag":t.flag=u.attributes[d].value;break;case"lastupdate":var f=u.attributes[d].value;t.lastUpdate=new Date(parseInt(f.substr(0,4)),parseInt(f.substr(4,2))-1,parseInt(f.substr(6,2)),parseInt(f.substr(8,2)),parseInt(f.substr(10,2)),parseInt(f.substr(12,2)));break;case"bid":t.bidPrice=i(u.attributes[d].value,t.unitcode);break;case"bidsize":t.bidSize=parseInt(u.attributes[d].value);break;case"ask":t.askPrice=i(u.attributes[d].value,t.unitcode);break;case"asksize":t.askSize=parseInt(u.attributes[d].value);break;case"mode":t.mode=u.attributes[d].value}for(var p={},m=0;m<u.childNodes.length;m++)if("SESSION"==u.childNodes[m].nodeName){var v={},h=u.childNodes[m].attributes;if(h.getNamedItem("id")&&(v.id=h.getNamedItem("id").value),h.getNamedItem("day")&&(v.day=h.getNamedItem("day").value),h.getNamedItem("last")&&(v.lastPrice=i(h.getNamedItem("last").value,t.unitcode)),h.getNamedItem("previous")&&(v.previousPrice=i(h.getNamedItem("previous").value,t.unitcode)),h.getNamedItem("open")&&(v.openPrice=i(h.getNamedItem("open").value,t.unitcode)),h.getNamedItem("high")&&(v.highPrice=i(h.getNamedItem("high").value,t.unitcode)),h.getNamedItem("low")&&(v.lowPrice=i(h.getNamedItem("low").value,t.unitcode)),h.getNamedItem("tradesize")&&(v.tradeSize=parseInt(h.getNamedItem("tradesize").value)),h.getNamedItem("numtrades")&&(v.numberOfTrades=parseInt(h.getNamedItem("numtrades").value)),h.getNamedItem("settlement")&&(v.settlementPrice=i(h.getNamedItem("settlement").value,t.unitcode)),h.getNamedItem("volume")&&(v.volume=parseInt(h.getNamedItem("volume").value)),h.getNamedItem("openinterest")&&(v.openInterest=parseInt(h.getNamedItem("openinterest").value)),h.getNamedItem("timestamp")){var f=h.getNamedItem("timestamp").value;v.timeStamp=new Date(parseInt(f.substr(0,4)),parseInt(f.substr(4,2))-1,parseInt(f.substr(6,2)),parseInt(f.substr(8,2)),parseInt(f.substr(10,2)),parseInt(f.substr(12,2)))}if(h.getNamedItem("tradetime")){var f=h.getNamedItem("tradetime").value;v.tradeTime=new Date(parseInt(f.substr(0,4)),parseInt(f.substr(4,2))-1,parseInt(f.substr(6,2)),parseInt(f.substr(8,2)),parseInt(f.substr(10,2)),parseInt(f.substr(12,2)))}v.id&&(p[v.id]=v)}var b="undefined"==typeof p.combined.lastPrice,g=!b&&"undefined"!=typeof p.combined.settlementPrice,P=b?p.previous:p.combined;P.lastPrice&&(t.lastPrice=P.lastPrice),P.previousPrice&&(t.previousPrice=P.previousPrice),P.openPrice&&(t.openPrice=P.openPrice),P.highPrice&&(t.highPrice=P.highPrice),P.lowPrice&&(t.lowPrice=P.lowPrice),P.tradeSize&&(t.tradeSize=P.tradeSize),P.numberOfTrades&&(t.numberOfTrades=P.numberOfTrades),P.settlementPrice&&(t.settlementPrice=P.settlementPrice),P.volume&&(t.volume=P.volume),P.openInterest&&(t.openInterest=P.openInterest),"combined"===P.id&&p.previous.openInterest&&(t.openInterest=p.previous.openInterest),P.timeStamp&&(t.timeStamp=P.timeStamp),P.tradeTime&&(t.tradeTime=P.tradeTime),p.combined.day&&(t.day=p.combined.day),b&&"undefined"==typeof t.flag&&(t.flag="p");var y=p.previous;if(t.previousPreviousPrice=y.previousPrice,t.previousSettlementPrice=y.settlementPrice,t.previousOpenPrice=y.openPrice,t.previousHighPrice=y.highPrice,t.previousLowPrice=y.lowPrice,t.previousTimeStamp=y.timeStamp,p.combined.day){var I="session_"+p.combined.day+"_T";if(p.hasOwnProperty(I)){var k=p[I],w=k.lastPrice;if(w){var T=k.tradeTime,C=k.tradeSize;if(t.lastPriceT=w,T){var S=new Date(T.getFullYear(),T.getMonth(),T.getDate(),12,0,0,0);t.sessionT=T.getTime()>S.getTime()}T&&(t.tradeTime=T),C&&(t.tradeSize=C),(b||g)&&(t.session="T",b&&(k.volume&&(t.volume=k.volume),k.previousPrice&&(t.previousPrice=k.previousPrice)))}}}}t.type="REFRESH_QUOTE";break;case"CV":t.type="REFRESH_CUMULATIVE_VOLUME",t.symbol=u.attributes.getNamedItem("symbol").value,t.unitCode=u.attributes.getNamedItem("basecode").value,t.tickIncrement=i(u.attributes.getNamedItem("tickincrement").value,t.unitCode);var x=u.attributes.getNamedItem("data");if(x){for(var D=x.value||"",O=D.split(":"),d=0;d<O.length;d++){var N=O[d],E=N.split(",");O[d]={price:i(E[0],t.unitCode),volume:parseInt(E[1])}}O.sort(function(e,t){return e.price-t.price}),t.priceLevels=O}else t.priceLevels=[];break;default:console.log(e)}}break;case"":switch(e.substr(1,1)){case"#":t.type="TIMESTAMP",t.timestamp=new Date(parseInt(e.substr(2,4)),parseInt(e.substr(6,2))-1,parseInt(e.substr(8,2)),parseInt(e.substr(10,2)),parseInt(e.substr(12,2)),parseInt(e.substr(14,2)));break;case"2":t.record="2";var _=e.indexOf(",",0);switch(t.symbol=e.substring(2,_),t.subrecord=e.substr(_+1,1),t.unitcode=e.substr(_+3,1),t.exchange=e.substr(_+4,1),t.delay=parseInt(e.substr(_+5,2)),t.subrecord){case"0":var M=e.indexOf(",",_+7);switch(t.value=i(e.substring(_+7,M),t.unitcode),t.element=e.substr(M+1,1),t.modifier=e.substr(M+2,1),t.element){case"A":t.type="OPEN";break;case"C":"1"==t.modifier&&(t.type="OPEN_INTEREST");break;case"D":case"d":"0"==t.modifier&&(t.type="SETTLEMENT");break;case"V":"0"==t.modifier&&(t.type="VWAP");break;case"0":"0"==t.modifier&&(t.tradePrice=t.value,t.type="TRADE");break;case"5":t.type="HIGH";break;case"6":t.type="LOW";break;case"7":"1"==t.modifier?t.type="VOLUME_YESTERDAY":"6"==t.modifier&&(t.type="VOLUME")}t.day=e.substr(M+3,1),t.session=e.substr(M+4,1),t.time=s(e.substr(e.indexOf("")+1,9));break;case"1":case"2":case"3":case"4":var U=e.substring(_+8).split(",");t.openPrice=i(U[0],t.unitcode),t.highPrice=i(U[1],t.unitcode),t.lowPrice=i(U[2],t.unitcode),t.lastPrice=i(U[3],t.unitcode),t.bidPrice=i(U[4],t.unitcode),t.askPrice=i(U[5],t.unitcode),t.previousPrice=i(U[7],t.unitcode),t.settlementPrice=i(U[10],t.unitcode),t.volume=U[13].length>0?parseInt(U[13]):void 0,t.openInterest=U[12].length>0?parseInt(U[12]):void 0,t.day=U[14].substr(0,1),t.session=U[14].substr(1,1),t.time=s(e.substr(e.indexOf("")+1,9)),t.type="REFRESH_DDF";break;case"7":var M=e.indexOf(",",_+7);t.tradePrice=i(e.substring(_+7,M),t.unitcode),_=M+1,M=e.indexOf(",",_),t.tradeSize=parseInt(e.substring(_,M)),_=M+1,t.day=e.substr(_,1),t.session=e.substr(_+1,1),t.time=s(e.substr(e.indexOf("")+1,9)),t.type="TRADE";break;case"8":var M=e.indexOf(",",_+7);t.bidPrice=i(e.substring(_+7,M),t.unitcode),_=M+1,M=e.indexOf(",",_),t.bidSize=parseInt(e.substring(_,M)),_=M+1,M=e.indexOf(",",_),t.askPrice=i(e.substring(_,M),t.unitcode),_=M+1,M=e.indexOf(",",_),t.askSize=parseInt(e.substring(_,M)),_=M+1,t.day=e.substr(_,1),t.session=e.substr(_+1,1),t.time=s(e.substr(e.indexOf("")+1,9)),t.type="TOB";break;case"Z":var M=e.indexOf(",",_+7);t.tradePrice=i(e.substring(_+7,M),t.unitcode),_=M+1,M=e.indexOf(",",_),t.tradeSize=parseInt(e.substring(_,M)),_=M+1,t.day=e.substr(_,1),t.session=e.substr(_+1,1),t.time=s(e.substr(e.indexOf("")+1,9)),t.type="TRADE_OUT_OF_SEQUENCE"}break;case"3":var _=e.indexOf(",",0);switch(t.symbol=e.substring(2,_),t.subrecord=e.substr(_+1,1),t.subrecord){case"B":t.unitcode=e.substr(_+3,1),t.exchange=e.substr(_+4,1),t.bidDepth="A"==e.substr(_+5,1)?10:parseInt(e.substr(_+5,1)),t.askDepth="A"==e.substr(_+6,1)?10:parseInt(e.substr(_+6,1)),t.bids=[],t.asks=[];for(var U=e.substring(_+8).split(","),d=0;d<U.length;d++){var l=U[d].split(/[A-Z]/),A=U[d].substr(l[0].length,1);A<="J"?t.asks.push({price:i(l[0],t.unitcode),size:parseInt(l[1])}):t.bids.push({price:i(l[0],t.unitcode),size:parseInt(l[1])})}t.type="BOOK"}break;default:t.type="UNKNOWN"}}return t}}()},{"./../common/xml/XmlDomParser":2,"./parseTimestamp":22,"./parseValue":23}],22:[function(e,t,r){t.exports=function(){"use strict";return function(e){if(9!==e.length)return null;var t=100*e.charCodeAt(0)+e.charCodeAt(1)-64,r=e.charCodeAt(2)-64-1,n=e.charCodeAt(3)-64,i=e.charCodeAt(4)-64,s=e.charCodeAt(5)-64,a=e.charCodeAt(6)-64,o=(255&e.charCodeAt(7))+((255&e.charCodeAt(8))<<8);return new Date(t,r,n,i,s,a,o)}}()},{}],23:[function(e,t,r){var n=e("barchart-marketdata-utilities");t.exports=function(){"use strict";return n.priceParser}()},{"barchart-marketdata-utilities":35}],24:[function(e,t,r){var n=e("barchart-marketdata-utilities");t.exports=function(){"use strict";return n.convert.baseCodeToUnitCode}()},{"barchart-marketdata-utilities":35}],25:[function(e,t,r){t.exports=function(){"use strict";return function(e){var t=e.getDate();return t>=1&&t<=9?String.fromCharCode("1".charCodeAt(0)+t-1):10==t?"0":String.fromCharCode("A".charCodeAt(0)+t-11)}}()},{}],26:[function(e,t,r){t.exports=function(){"use strict";return function(e){var t=parseInt(e,31);return t>9?t++:0===t&&(t=10),t}}()},{}],27:[function(e,t,r){var n=e("barchart-marketdata-utilities");t.exports=function(){"use strict";return n.convert.unitCodeToBaseCode}()},{"barchart-marketdata-utilities":35}],28:[function(e,t,r){var n=e("./convertBaseCodeToUnitCode"),i=e("./convertDateToDayCode"),s=e("./convertDayCodeToNumber"),a=e("./convertUnitCodeToBaseCode"),o=e("./monthCodes"),u=e("./parseSymbolType"),c=e("./priceFormatter"),l=e("./timeFormatter");t.exports=function(){"use strict";return{convertBaseCodeToUnitCode:n,convertUnitCodeToBaseCode:a,convertDateToDayCode:i,convertDayCodeToNumber:s,monthCodes:o,parseSymbolType:u,BaseCode2UnitCode:n,DateToDayCode:i,DayCodeToNumber:s,MonthCodes:o,ParseSymbolType:u,PriceFormatter:c,TimeFormatter:l,UnitCode2BaseCode:a}}()},{"./convertBaseCodeToUnitCode":24,"./convertDateToDayCode":25,"./convertDayCodeToNumber":26,"./convertUnitCodeToBaseCode":27,"./monthCodes":29,"./parseSymbolType":30,"./priceFormatter":31,"./timeFormatter":32}],29:[function(e,t,r){var n=e("barchart-marketdata-utilities");t.exports=function(){"use strict";return n.monthCodes.getCodeToNameMap()}()},{"barchart-marketdata-utilities":35}],30:[function(e,t,r){t.exports=function(){"use strict";return function(e){if("_S_"==e.substring(0,3))return{type:"future_spread"};var t=/[0-9]$/;if(t.test(e)){var r=/^(.{1,3})([A-Z])([0-9]{1,4})$/i,n=r.exec(e),i=parseInt(n[3]);return i<10?i+=2010:i<100&&(i+=2e3),{type:"future",symbol:n[0],root:n[1],month:n[2],year:i}}return null}}()},{}],31:[function(e,t,r){var n=e("barchart-marketdata-utilities");t.exports=function(){"use strict";return n.priceFormatter}()},{"barchart-marketdata-utilities":35}],32:[function(e,t,r){var n=e("barchart-marketdata-utilities");t.exports=function(){"use strict";return n.timeFormatter}()},{"barchart-marketdata-utilities":35}],33:[function(e,t,r){t.exports=function(){"use strict";return{unitCodeToBaseCode:function(e){switch(e){case"2":return-1;case"3":return-2;case"4":return-3;case"5":return-4;
case"6":return-5;case"7":return-6;case"8":return 0;case"9":return 1;case"A":return 2;case"B":return 3;case"C":return 4;case"D":return 5;case"E":return 6;case"F":return 7;default:return 0}},baseCodeToUnitCode:function(e){switch(e){case-1:return"2";case-2:return"3";case-3:return"4";case-4:return"5";case-5:return"6";case-6:return"7";case 0:return"8";case 1:return"9";case 2:return"A";case 3:return"B";case 4:return"C";case 5:return"D";case 6:return"E";case 7:return"F";default:return 0}}}}()},{}],34:[function(e,t,r){var n=e("lodash.isnan");t.exports=function(){"use strict";return function(e,t,r){if(""===e||void 0===e||null===e||n(e))return"";var i=e.toFixed(t);if(r&&!(e>-1e3&&e<1e3)){for(var s=i.length,a=e<0,o=0===t,u=0,c=[],l=s-1;!(l<0);l--){3!==u||a&&0===l||(c.unshift(r),u=0);var d=i.charAt(l);c.unshift(d),o?u+=1:"."===d&&(o=!0)}i=c.join("")}return i}}()},{"lodash.isnan":46}],35:[function(e,t,r){var n=e("./convert"),i=e("./decimalFormatter"),s=e("./monthCodes"),a=e("./priceFormatter"),o=e("./symbolFormatter"),u=e("./symbolParser"),c=e("./priceParser"),l=e("./timeFormatter");t.exports=function(){"use strict";return{convert:n,decimalFormatter:i,monthCodes:s,priceFormatter:a,symbolParser:u,priceParser:c,symbolFormatter:o,timeFormatter:l}}()},{"./convert":33,"./decimalFormatter":34,"./monthCodes":36,"./priceFormatter":37,"./priceParser":38,"./symbolFormatter":39,"./symbolParser":40,"./timeFormatter":41}],36:[function(e,t,r){t.exports=function(){"use strict";var e={},t={},r=function(r,n,i){e[r]=n,t[r]=i};return r("F","January",1),r("G","February",2),r("H","March",3),r("J","April",4),r("K","May",5),r("M","June",6),r("N","July",7),r("Q","August",8),r("U","September",9),r("V","October",10),r("X","November",11),r("Z","December",12),r("Y","Cash",0),{getCodeToNameMap:function(){return e},getCodeToNumberMap:function(){return t}}}()},{}],37:[function(e,t,r){var n=e("lodash.isnan"),i=e("./decimalFormatter");t.exports=function(){"use strict";function e(e,t){return["000",Math.floor(e)].join("").substr(-1*t)}return function(t,r,s){function a(e){var r=Math.floor(e);return 0===r&&""===t?"":r}function o(e,t){return i(e,t,s)}var u;return u="."==t?function(e,t){switch(t){case"2":return o(e,3);case"3":return o(e,4);case"4":return o(e,5);case"5":return o(e,6);case"6":return o(e,7);case"7":return o(e,8);case"8":return o(e,0);case"9":return o(e,1);case"A":return o(e,2);case"B":return o(e,3);case"C":return o(e,4);case"D":return o(e,5);case"E":return o(e,6);default:return""===e||void 0===e||null===e||n(e)?"":e}}:function(i,s){if(""===i||void 0===i||null===i||n(i))return"";var u=i>=0?"":"-";switch(i=Math.abs(i),s){case"2":return[u,a(i),t,e(8*(i-Math.floor(i)),1)].join("");case"3":return[u,a(i),t,e(16*(i-Math.floor(i)),2)].join("");case"4":return[u,a(i),t,e(32*(i-Math.floor(i)),2)].join("");case"5":return[u,a(i),t,e((i-Math.floor(i))*(r?320:64),r?3:2)].join("");case"6":return[u,a(i),t,e((i-Math.floor(i))*(r?320:128),3)].join("");case"7":return[u,a(i),t,e((i-Math.floor(i))*(r?320:256),3)].join("");case"8":return u+o(i,0);case"9":return u+o(i,1);case"A":return u+o(i,2);case"B":return u+o(i,3);case"C":return u+o(i,4);case"D":return u+o(i,5);case"E":return u+o(i,6);default:return u+i}},{format:u}}}()},{"./decimalFormatter":34,"lodash.isnan":46}],38:[function(e,t,r){t.exports=function(){"use strict";function e(e){return t.hasOwnProperty(e)||(t[e]=new RegExp(e,"g")),t[e]}var t={};return function(t,r,n){if(!(t.length<1)){if("-"===t)return null;if(n&&(t=t.replace(e(n),"")),t.indexOf(".")>0)return parseFloat(t);var i="-"==t.substr(0,1)?-1:1;switch(i===-1&&(t=t.substr(1)),r){case"2":return i*((t.length>1?parseInt(t.substr(0,t.length-1)):0)+parseInt(t.substr(-1))/8);case"3":return i*((t.length>2?parseInt(t.substr(0,t.length-2)):0)+parseInt(t.substr(-2))/16);case"4":return i*((t.length>2?parseInt(t.substr(0,t.length-2)):0)+parseInt(t.substr(-2))/32);case"5":return i*((t.length>2?parseInt(t.substr(0,t.length-2)):0)+parseInt(t.substr(-2))/64);case"6":return i*((t.length>3?parseInt(t.substr(0,t.length-3)):0)+parseInt(t.substr(-3))/128);case"7":return i*((t.length>3?parseInt(t.substr(0,t.length-3)):0)+parseInt(t.substr(-3))/256);case"8":return i*parseInt(t);case"9":return i*(parseInt(t)/10);case"A":return i*(parseInt(t)/100);case"B":return i*(parseInt(t)/1e3);case"C":return i*(parseInt(t)/1e4);case"D":return i*(parseInt(t)/1e5);case"E":return i*(parseInt(t)/1e6);default:return i*parseInt(t)}}}}()},{}],39:[function(e,t,r){t.exports=function(){"use strict";return{format:function(e){var t;return t=null!==e&&"string"==typeof e?e.toUpperCase():e}}}()},{}],40:[function(e,t,r){t.exports=function(){"use strict";var e=/(\.RT)$/;return{displayUsingPercent:function(t){return e.test(t)}}}()},{}],41:[function(e,t,r){t.exports=function(){"use strict";function e(e){var t,r=e.getHours();return 0===r?(r=12,t="AM"):12===r?(r=r,t="PM"):r>12?(r-=12,t="PM"):(r=r,t="AM"),i(r)+":"+i(e.getMinutes())+":"+i(e.getSeconds())+" "+t}function t(e){var t,r=e.getHours();return 0===r?(r=12,t="A"):12===r?(r=r,t="P"):r>12?(r-=12,t="P"):(r=r,t="A"),i(r)+":"+i(e.getMinutes())+t}function r(e){return i(e.getHours())+":"+i(e.getMinutes())+":"+i(e.getSeconds())}function n(e){return i(e.getHours())+":"+i(e.getMinutes())}function i(e){return("00"+e).substr(-2)}return function(s,a){var o;o=s?a?t:e:a?n:r;var u={format:function(e){var t=e.time;return t?!e.lastPrice||e.flag||e.sessionT?u.formatDate(t):u.formatTime(t,e.timezone):""},formatTime:function(e,t){var r;return e?(r=o(e),t&&(r=r+" "+t)):r="",r},formatDate:function(e){return e?i(e.getMonth()+1)+"/"+i(e.getDate())+"/"+i(e.getFullYear()):""}};return u}}()},{}],42:[function(e,t,r){!function(){var e=!1,r=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(t){function n(){!e&&this.init&&this.init.apply(this,arguments)}var i=this.prototype;e=!0;var s=new this;e=!1;for(var a in t)s[a]="function"==typeof t[a]&&"function"==typeof i[a]&&r.test(t[a])?function(e,t){return function(){var r=this._super;this._super=i[e];var n=t.apply(this,arguments);return this._super=r,n}}(a,t[a]):t[a];return n.prototype=s,n.prototype.constructor=n,n.extend=arguments.callee,n},t.exports=Class}()},{}],43:[function(e,t,r){function n(e,t,r){if(!o(t))throw new TypeError("iterator must be a function");arguments.length<3&&(r=this),"[object Array]"===u.call(e)?i(e,t,r):"string"==typeof e?s(e,t,r):a(e,t,r)}function i(e,t,r){for(var n=0,i=e.length;n<i;n++)c.call(e,n)&&t.call(r,e[n],n,e)}function s(e,t,r){for(var n=0,i=e.length;n<i;n++)t.call(r,e.charAt(n),n,e)}function a(e,t,r){for(var n in e)c.call(e,n)&&t.call(r,e[n],n,e)}var o=e("is-function");t.exports=n;var u=Object.prototype.toString,c=Object.prototype.hasOwnProperty},{"is-function":45}],44:[function(e,t,r){(function(e){"undefined"!=typeof window?t.exports=window:"undefined"!=typeof e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(e,t,r){function n(e){var t=i.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}t.exports=n;var i=Object.prototype.toString},{}],46:[function(e,t,r){(function(e){function r(e){return!!e&&"object"==typeof e}function n(e){return i(e)&&e!=+e}function i(e){return"number"==typeof e||r(e)&&o.call(e)==s}var s="[object Number]",a=e.Object.prototype,o=a.toString;t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],47:[function(e,t,r){var n=e("trim"),i=e("for-each"),s=function(e){return"[object Array]"===Object.prototype.toString.call(e)};t.exports=function(e){if(!e)return{};var t={};return i(n(e).split("\n"),function(e){var r=e.indexOf(":"),i=n(e.slice(0,r)).toLowerCase(),a=n(e.slice(r+1));"undefined"==typeof t[i]?t[i]=a:s(t[i])?t[i].push(a):t[i]=[t[i],a]}),t}},{"for-each":43,trim:48}],48:[function(e,t,r){function n(e){return e.replace(/^\s*|\s*$/g,"")}r=t.exports=n,r.left=function(e){return e.replace(/^\s*/,"")},r.right=function(e){return e.replace(/\s*$/,"")}},{}],49:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<e.length;r++)t(e[r])}function i(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function s(e,t,r){var n=e;return d(t)?(r=t,"string"==typeof e&&(n={uri:e})):n=p(t,{uri:e}),n.callback=r,n}function a(e,t,r){return t=s(e,t,r),o(t)}function o(e){function t(){4===d.readyState&&s()}function r(){var e=void 0;if(e=d.response?d.response:d.responseText||u(d),I)try{e=JSON.parse(e)}catch(t){}return e}function n(e){return clearTimeout(v),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,c(e,l)}function s(){if(!m){var t;clearTimeout(v),t=e.useXDR&&void 0===d.status?200:1223===d.status?204:d.status;var n=l,i=null;return 0!==t?(n={body:r(),statusCode:t,method:b,headers:{},url:h,rawRequest:d},d.getAllResponseHeaders&&(n.headers=f(d.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),c(i,n,n.body)}}if("undefined"==typeof e.callback)throw new Error("callback argument missing");var o=!1,c=function(t,r,n){o||(o=!0,e.callback(t,r,n))},l={body:void 0,headers:{},statusCode:0,method:b,url:h,rawRequest:d},d=e.xhr||null;d||(d=e.cors||e.useXDR?new a.XDomainRequest:new a.XMLHttpRequest);var p,m,v,h=d.url=e.uri||e.url,b=d.method=e.method||"GET",g=e.body||e.data||null,P=d.headers=e.headers||{},y=!!e.sync,I=!1;if("json"in e&&e.json!==!1&&(I=!0,P.accept||P.Accept||(P.Accept="application/json"),"GET"!==b&&"HEAD"!==b&&(P["content-type"]||P["Content-Type"]||(P["Content-Type"]="application/json"),g=JSON.stringify(e.json===!0?g:e.json))),d.onreadystatechange=t,d.onload=s,d.onerror=n,d.onprogress=function(){},d.onabort=function(){m=!0},d.ontimeout=n,d.open(b,h,!y,e.username,e.password),y||(d.withCredentials=!!e.withCredentials),!y&&e.timeout>0&&(v=setTimeout(function(){if(!m){m=!0,d.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",n(e)}},e.timeout)),d.setRequestHeader)for(p in P)P.hasOwnProperty(p)&&d.setRequestHeader(p,P[p]);else if(e.headers&&!i(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(d.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(d),d.send(g),d}function u(e){if("document"===e.responseType)return e.responseXML;var t=204===e.status&&e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}function c(){}var l=e("global/window"),d=e("is-function"),f=e("parse-headers"),p=e("xtend");t.exports=a,a.XMLHttpRequest=l.XMLHttpRequest||c,a.XDomainRequest="withCredentials"in new a.XMLHttpRequest?a.XMLHttpRequest:l.XDomainRequest,n(["get","put","post","patch","head","delete"],function(e){a["delete"===e?"del":e]=function(t,r,n){return r=s(t,r,n),r.method=e.toUpperCase(),o(r)}})},{"global/window":44,"is-function":45,"parse-headers":47,xtend:50}],50:[function(e,t,r){function n(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)i.call(r,n)&&(e[n]=r[n])}return e}t.exports=n;var i=Object.prototype.hasOwnProperty},{}]},{},[14])(14)});